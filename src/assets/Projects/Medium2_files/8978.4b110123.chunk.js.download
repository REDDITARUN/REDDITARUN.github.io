(self.webpackChunklite=self.webpackChunklite||[]).push([[8978],{18978:(e,n,i)=>{"use strict";i.d(n,{L:()=>E});var t=i(67294),l=i(71652),o=i(82405),a=i(14294),r=i(25735),c=i(73279),d=i(77355),u=i(27323),s=i(93310),m=i(20113),p=i(87691),v=i(92780),f=i(14646),g=i(92661),k=i(46696),b=i(21372),w=i(68427),E=function(e){var n=e.collection,i=e.buttonSize,a=e.buttonStyleFn,c=n.name,u=n.description;return(0,r.V)({name:"enable_updated_pub_recs_ui",placeholder:!1})?t.createElement(y,{collection:n}):t.createElement(d.x,{padding:"15px",display:"flex",flexDirection:"column",width:"300px"},t.createElement(d.x,{display:"flex",flexDirection:"row",justifyContent:"space-between",whiteSpace:"normal",borderBottom:"neutral.primary",paddingBottom:"10px",marginBottom:"10px"},t.createElement(d.x,{display:"flex",flexDirection:"column",paddingRight:"5px"},t.createElement(m.X6,{scale:"S"},c),t.createElement(p.F,{scale:"S"},u)),t.createElement(d.x,null,t.createElement(l.v,{collection:n,link:!0}))),t.createElement(d.x,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},t.createElement(p.F,{scale:"M"},"Followed by ",(0,b.pY)(n.subscriberCount||0)," people"),t.createElement(o.F,{collection:n,buttonSize:i,buttonStyleFn:a,susiEntry:"follow_card"})))},S=function(e){return{":hover span":{color:e.colorTokens.foreground.neutral.primary.base}}},x=function(e){return{position:"absolute",height:"42px",width:"100%",top:0,left:0,borderTopLeftRadius:"4px",borderTopRightRadius:"4px",backgroundImage:"url(".concat(e,")"),backgroundRepeat:"no-repeat",backgroundSize:"cover"}},y=function(e){var n,i,r=e.collection,m=r.name,E=r.description,y=r.customStyleSheet,h=r.slug,F=(0,w.R)(r),C=(0,g.H2)()("ShowLiteCollectionFollowers",{collectionSlug:h}),N=(0,v.n)({name:"heading",scale:"XS",clamp:2,fontWeight:"NORMAL",color:"NORMAL"}),I=(0,f.I)(),R=null!=y&&null!==(n=y.header)&&void 0!==n&&null!==(i=n.backgroundImage)&&void 0!==i&&i.id?(0,k.W6)({miroId:y.header.backgroundImage.id,strategy:k._S.Resample}):null;return t.createElement(d.x,{width:"280px",display:"flex",flexDirection:"column",padding:"24px",position:"relative"},!!R&&t.createElement("div",{className:I(x(R))}),t.createElement(d.x,{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"flex-end"},t.createElement(l.v,{size:64,collection:r,link:!0}),t.createElement(d.x,null,t.createElement(o.F,{collection:r,buttonSize:"SMALL",buttonStyleFn:function(e){return e?"SUBTLE":"BRAND"},susiEntry:"follow_card"}))),t.createElement(d.x,{marginTop:"12px",display:"flex",flexDirection:"column"},t.createElement(u.P,{href:F},t.createElement(d.x,{display:"flex",flexDirection:"column"},t.createElement("div",{className:I([N,{display:"block"}])},m))),t.createElement(d.x,{marginTop:"4px",display:"flex",flexDirection:"row"},t.createElement(p.F,{scale:"S",color:"LIGHTER"},"Publication"),t.createElement(c.O,{margin:"0 8px"}),t.createElement(s.r,{href:C,linkStyle:"SUBTLE",rules:S},t.createElement(p.F,{scale:"S",color:"DARKER",tag:"span"},(0,b.pY)(r.subscriberCount||0)),t.createElement(p.F,{scale:"S",tag:"span"},"Â Followers")))),E&&t.createElement(d.x,{paddingTop:"12px"},t.createElement(p.F,{scale:"S",color:"DARKER",clamp:4},t.createElement(a.P,{wrapLinks:!0},E))))}},68427:(e,n,i)=>{"use strict";i.d(n,{B:()=>r,R:()=>c});var t=i(8575),l=i(67294),o=i(43487),a=i(78870),r=function(){var e=(0,o.v9)((function(e){return e.navigation.currentLocation})),n=(0,o.v9)((function(e){return e.config.authDomain})),i=(0,a.rp)();return(0,l.useCallback)((function(l){var o=l.id,a=l.domain,r=function(e){var n=e.id,i=e.slug;return i?"/".concat(i):"/c/".concat(n)}({id:o,domain:a,slug:l.slug});if(i)return"https://".concat(n).concat(r);var c=(0,t.parse)(e).port;return a?"https://".concat(a).concat(c?":".concat(c):""):"https://".concat(n).concat(r)}),[i])},c=function(e){return r()(e)}},71652:(e,n,i)=>{"use strict";i.d(n,{v:()=>p});var t=i(67294),l=i(68427),o=i(14818),a=i(4381),r=i(27323),c=i(29746),d=i(14646),u=i(46696),s=function(e){return function(n){return{borderRadius:(0,c.a)(n.borderRadius.regular),width:(0,c.a)(e),height:(0,c.a)(e),backgroundColor:n.colorTokens.background.neutral.secondary.base}}},m=function(e){return function(n){return{borderRadius:(0,c.a)(n.borderRadius.regular),display:"block",height:"".concat(e,"px"),width:"".concat(e,"px"),position:"absolute",top:0,border:"1px solid rgba(0, 0, 0, 0.05)"}}},p=function(e){var n=e.circular,i=e.collection,c=e.size,p=void 0===c?60:c,v=e.link,f=e.showHoverState,g=(0,l.R)(i),k=(0,d.I)();if(!i||!i.avatar||!i.avatar.id)return null;var b=i.avatar.id,w=i.name||"Publication avatar",E=n?t.createElement(o.z,{miroId:b,alt:w,diameter:p,freezeGifs:!1,showHoverState:f}):t.createElement("div",{style:{position:"relative",border:"2px solid white",borderRadius:"6px"}},t.createElement(a.UV,{rules:[s(p)],miroId:b,alt:w,width:p,height:p,strategy:u._S.Crop}),t.createElement("div",{className:k(m(p))}));return v?t.createElement(r.P,{href:g},E):E}},82405:(e,n,i)=>{"use strict";i.d(n,{F:()=>x});var t=i(34699),l=i(21919),o=i(67294),a=i(96174),r=i(77520),c=i(20297),d=i(25550),u=i(25267),s=i(39727),m=i(26350),p=i(50563),v=i(93310),f=i(77355),g=i(47230),k=i(18627),b=i(66411),w=i(92661),E=i(43487),S=i(50458),x=function(e){var n,i=e.buttonSize,S=e.buttonStyleFn,x=e.collection,h=e.post,F=e.simpleLink,C=e.susiEntry,N=void 0===C?"follow_card":C,I=e.preventParentClick,R=e.width,D=(0,E.v9)((function(e){return e.config.authDomain})),T=(0,d.r)().viewerId,_=(0,k.A)(),L=(0,b.pK)(),z=(0,a.TH)(),B=(0,w.$B)(z.pathname),V=null==B||null===(n=B.route)||void 0===n?void 0:n.name,A=(0,s.g)(x),O=A.viewerEdge,P=A.loading,U=function(e,n){var i=(0,l.D)(c.e),a=(0,t.Z)(i,1)[0];return o.useCallback((function(){return a({variables:{id:e.id},optimisticResponse:{followCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!0}}},update:function(i){i.modify({id:"User:".concat(n),fields:{missionControl:(0,p.im)("followedCollections",!0),followingCollectionConnection:(0,p.Hc)(e.id)}})}})}),[e.id])}(x,T),H=function(e,n){var i=(0,l.D)(c.X),a=(0,t.Z)(i,1)[0];return o.useCallback((function(){return a({variables:{id:e.id},optimisticResponse:{unfollowCollection:{__typename:"Collection",id:e.id,name:e.name,viewerEdge:{__typename:"CollectionViewerEdge",id:"collectionId:".concat(e.id,"-viewerId:").concat(n),isFollowing:!1}}},update:function(e){e.modify({id:"User:".concat(n),fields:{missionControl:(0,p.im)("followedCollections",!1)}})}})}),[e.id])}(x,T),M=o.useCallback((function(e){I&&e.preventDefault(),_.event("collection.followed",{collectionId:x.id,followSource:L}),U()}),[x,I,L,_]),W=o.useCallback((function(e){I&&e.preventDefault(),_.event("collection.unfollowed",{collectionId:x.id,followSource:L}),H()}),[I,L,_]),j=!(null==O||!O.isFollowing),G=S?S(!!j):j?"OBVIOUS":"STRONG";return F?o.createElement(v.r,{onClick:j?W:M},o.createElement(f.x,{display:"flex",flexDirection:"row"},j?"Unfollow publication":"Follow publication")):o.createElement(u.I,null,(function(e){return e?o.createElement(g.zx,{size:i,onClick:j?W:M,buttonStyle:G,loading:P,width:R},j?"Following":"Follow"):o.createElement(m.R,{collection:x,buttonStyle:G,isButton:!0,buttonSize:i,operation:"register",actionUrl:y(D,x,h)||"",susiEntry:N,pageSource:(0,r.x)(V,"register"),buttonWidth:R},j?"Following":"Follow")}))},y=function(e,n,i){return n.slug&&(i&&i.id?(0,S.TAb)(e,n.slug,i.id):(0,S.LlO)(e,n.slug))}},39727:(e,n,i)=>{"use strict";i.d(n,{g:()=>a});var t=i(64718),l=i(87329),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionViewerEdge"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionId"}}}],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"viewerEdge"},selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Collection_viewerEdge"}}]}}]}}]}}]}}].concat((0,l.Z)([{kind:"FragmentDefinition",name:{kind:"Name",value:"Collection_viewerEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CollectionViewerEdge"}},selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"}},{kind:"Field",name:{kind:"Name",value:"canEditOwnPosts"}},{kind:"Field",name:{kind:"Name",value:"canEditPosts"}},{kind:"Field",name:{kind:"Name",value:"isEditor"}},{kind:"Field",name:{kind:"Name",value:"isFollowing"}},{kind:"Field",name:{kind:"Name",value:"isMuting"}},{kind:"Field",name:{kind:"Name",value:"isSubscribedToLetters"}},{kind:"Field",name:{kind:"Name",value:"isSubscribedToMediumNewsletter"}},{kind:"Field",name:{kind:"Name",value:"isSubscribedToEmails"}},{kind:"Field",name:{kind:"Name",value:"isWriter"}}]}}]))},a=function(e){var n,i,l=(0,t.a)(o,{variables:{collectionId:null!==(n=null==e?void 0:e.id)&&void 0!==n?n:""},ssr:!1,skip:!(null!=e&&e.id)}),a=l.loading,r=l.error,c=l.data;return a?{loading:a}:r?{error:r}:{viewerEdge:null==c||null===(i=c.collection)||void 0===i?void 0:i.viewerEdge}}},25267:(e,n,i)=>{"use strict";i.d(n,{I:()=>l});var t=i(6443),l=function(e){var n=e.children,i=e.nonBlocking,l=(0,t.H)(),o=l.error,a=l.loading,r=l.value;return i&&(o||a)?n(null):a?null:n(r)}}}]);
//# sourceMappingURL=https://stats.medium.build/lite/sourcemaps/8978.4b110123.chunk.js.map